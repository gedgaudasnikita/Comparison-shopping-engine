<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Comparison-shopping-engine: C:/projects/myproject/src/Backend/src/Program.cs Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Comparison-shopping-engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_69c34de4954fea5b31f8659d47b3bd53.html">Backend</a></li><li class="navelem"><a class="el" href="../../dir_76ed6d6773f22335b0ab18e429a987b0.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Program.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/dac/Backend_2src_2Program_8cs.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> Newtonsoft.Json;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d6/d27/namespaceSystem.html">System</a>;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d6/d27/namespaceSystem.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d6/d27/namespaceSystem.html">System</a>.Configuration;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d6/d27/namespaceSystem.html">System</a>.Linq;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d6/d27/namespaceSystem.html">System</a>.Threading.Tasks;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d6/d43/namespaceComparison__shopping__engine__backend.html">Comparison_shopping_engine_backend</a></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html">   10</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">class </span><a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html">Program</a></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    {</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7d251c684fa022c937ea3b98d433c39e">   12</a></span>&#160;        <span class="keyword">private</span> <span class="keyword">static</span> <a class="code" href="../../dd/d96/interfaceComparison__shopping__engine__backend_1_1IServer.html">IServer</a> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7d251c684fa022c937ea3b98d433c39e">server</a>;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a2e67222db1dca5be5f3731ada487dd0f">   16</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a2e67222db1dca5be5f3731ada487dd0f">Main</a>()</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;        {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7a01304694a6c748a7958a713e33853d">InitEntities</a>())</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;                <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#ac6350cc0a27ebbe21403731706aa6cc1">CloseOnUserEntry</a>(<span class="stringliteral">&quot;Initialization failed.&quot;</span>);</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;            }</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;            server.<a class="code" href="../../dd/d96/interfaceComparison__shopping__engine__backend_1_1IServer.html#a07aaf1227e4d645f15e0a964f54ef291">Start</a>();</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a155a5e625fe5fec7d95c62cb22d3befc">SetUpDB</a>(); <span class="comment">//Used for initial DB creation and testing, delete later</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#ac6350cc0a27ebbe21403731706aa6cc1">CloseOnUserEntry</a>();</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        }</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#ac6350cc0a27ebbe21403731706aa6cc1">   29</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#ac6350cc0a27ebbe21403731706aa6cc1">CloseOnUserEntry</a>(<span class="keywordtype">string</span> addInfo = <span class="stringliteral">&quot;&quot;</span>)</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        {</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            Console.WriteLine($<span class="stringliteral">&quot;{addInfo}Press any key to kill the process&quot;</span>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            Console.ReadKey();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;            <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#abe70a8d883718e443e78a65b76f72409">DestroyEntities</a>();</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        }</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#abe70a8d883718e443e78a65b76f72409">   36</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#abe70a8d883718e443e78a65b76f72409">DestroyEntities</a>()</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="keywordflow">if</span> (server != null)</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                server.Dispose();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        }</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7a01304694a6c748a7958a713e33853d">   42</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7a01304694a6c748a7958a713e33853d">InitEntities</a>()</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                <span class="comment">//Core initialization</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                <a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html">ParseableReceipt</a>.<a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#abf53638ac3074e5655dbb5d96c603d12">ItemListParser</a> = <span class="keyword">new</span> <a class="code" href="../../d5/d89/classComparison__shopping__engine__backend_1_1ItemListParser.html">ItemListParser</a>();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                <a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html">ParseableReceipt</a>.<a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#aa5934966398da1e63540a70c6020ea69">DateParser</a> = <span class="keyword">new</span> <a class="code" href="../../df/de8/classComparison__shopping__engine__backend_1_1DateParser.html">DateParser</a>();</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                <a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html">ParseableReceipt</a>.<a class="code" href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#a9613222da03ef95cee7b1abab9df3b4d">StoreParser</a> = <span class="keyword">new</span> <a class="code" href="../../db/db1/classComparison__shopping__engine__backend_1_1StoreParser.html">StoreParser</a>();</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <a class="code" href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html">ItemManager</a>.<a class="code" href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html#af67cd4a65635a9347e520b6b69201978">GetInstance</a>().<a class="code" href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html#afc8c3335ef46a33a51ed7d74de760421">LoadAll</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                <a class="code" href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html">NormalizationEngine</a>.<a class="code" href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html#a2cf17ac219d860b4b4ba0b71828c6807">GetInstance</a>().<a class="code" href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html#afc8c3335ef46a33a51ed7d74de760421">LoadAll</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="comment">//Server initialization</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                var endpoints = <span class="keyword">new</span> List&lt;IBackendEndpoint&gt;()</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                    <span class="keyword">new</span> <a class="code" href="../../d9/dde/classComparison__shopping__engine__backend_1_1GetSuggestionsBackendEndpoint.html">GetSuggestionsBackendEndpoint</a>(),</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    <span class="keyword">new</span> <a class="code" href="../../d6/df8/classComparison__shopping__engine__backend_1_1ProcessImageBackendEndpoint.html">ProcessImageBackendEndpoint</a>(),</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    <span class="keyword">new</span> <a class="code" href="../../da/d65/classComparison__shopping__engine__backend_1_1ProcessReceiptBackendEndpoint.html">ProcessReceiptBackendEndpoint</a>(),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    <span class="keyword">new</span> <a class="code" href="../../d6/dd5/classComparison__shopping__engine__backend_1_1SaveReceiptBackendEndpoint.html">SaveReceiptBackendEndpoint</a>()</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                };</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                server = <span class="keyword">new</span> <a class="code" href="../../dc/d35/classComparison__shopping__engine__backend_1_1HttpServer.html">HttpServer</a>(<span class="keyword">new</span> <a class="code" href="../../dd/de4/classComparison__shopping__engine__backend_1_1Router.html">Router</a>(endpoints));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                initialized = <span class="keyword">true</span>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">catch</span> (JsonReaderException)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                Console.WriteLine(<span class="stringliteral">&quot;Deserialization failed.&quot;</span>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">catch</span> (ConfigurationErrorsException)</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                Console.WriteLine(<span class="stringliteral">&quot;Configuration format corrupt.&quot;</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">catch</span> (Exception ex)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                Console.WriteLine(ex.ToString());</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">return</span> initialized;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a155a5e625fe5fec7d95c62cb22d3befc">   85</a></span>&#160;        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a155a5e625fe5fec7d95c62cb22d3befc">SetUpDB</a>()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keyword">using</span> (var db = <span class="keyword">new</span> <a class="code" href="../../de/dd0/classComparison__shopping__engine__backend_1_1ItemsContext.html">ItemsContext</a>())</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="comment">//Add old items to DB</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a> item1 = <span class="keyword">new</span> <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    Name = <span class="stringliteral">&quot;KELMES pienas, 2,5% rieb.&quot;</span>,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    Store = <span class="stringliteral">&quot;IKI&quot;</span>,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    Price = 10,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    Date = DateTime.Now.<a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html#a9f6dd5f0a254ed27ca791fe4aa2c35cf">Date</a></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                };</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a> item2 = <span class="keyword">new</span> <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                {</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                    Name = <span class="stringliteral">&quot;Malta kava Paulig Extra“&quot;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    Store = <span class="stringliteral">&quot;MAXIMA&quot;</span>,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    Price = 899,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    Date = DateTime.Now.<a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html#a9f6dd5f0a254ed27ca791fe4aa2c35cf">Date</a></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                };</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a> item3 = <span class="keyword">new</span> <a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">DBItem</a></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    Name = <span class="stringliteral">&quot;Ledai Maxima Favorit&quot;</span>,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    Store = <span class="stringliteral">&quot;MAXIMA&quot;</span>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    Price = 129,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                    Date = DateTime.Now.<a class="code" href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html#a9f6dd5f0a254ed27ca791fe4aa2c35cf">Date</a></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                };</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                db.Items.Add(item1);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                db.Items.Add(item2);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                db.Items.Add(item3);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                db.SaveChanges();</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="interfaceComparison__shopping__engine__backend_1_1IServer_html"><div class="ttname"><a href="../../dd/d96/interfaceComparison__shopping__engine__backend_1_1IServer.html">Comparison_shopping_engine_backend.IServer</a></div><div class="ttdoc">Implemented by the classes that aim to encapsulate the functionality of the server. The responsibilities of such classes include setting up the listeners, manage handling of the connections and handle the exceptions appropriately </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d58/IServer_8cs_source.html#l00014">IServer.cs:14</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_abe70a8d883718e443e78a65b76f72409"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#abe70a8d883718e443e78a65b76f72409">Comparison_shopping_engine_backend.Program.DestroyEntities</a></div><div class="ttdeci">static void DestroyEntities()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00036">Program.cs:36</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_a155a5e625fe5fec7d95c62cb22d3befc"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a155a5e625fe5fec7d95c62cb22d3befc">Comparison_shopping_engine_backend.Program.SetUpDB</a></div><div class="ttdeci">static void SetUpDB()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00085">Program.cs:85</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ParseableReceipt_html_a9613222da03ef95cee7b1abab9df3b4d"><div class="ttname"><a href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#a9613222da03ef95cee7b1abab9df3b4d">Comparison_shopping_engine_backend.ParseableReceipt.StoreParser</a></div><div class="ttdeci">static IParser&lt; string &gt; StoreParser</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/ParseableReceipt_8cs_source.html#l00019">ParseableReceipt.cs:19</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ParseableReceipt_html_abf53638ac3074e5655dbb5d96c603d12"><div class="ttname"><a href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#abf53638ac3074e5655dbb5d96c603d12">Comparison_shopping_engine_backend.ParseableReceipt.ItemListParser</a></div><div class="ttdeci">static IParser&lt; List&lt; Item &gt; &gt; ItemListParser</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/ParseableReceipt_8cs_source.html#l00020">ParseableReceipt.cs:20</a></div></div>
<div class="ttc" id="namespaceComparison__shopping__engine__backend_html"><div class="ttname"><a href="../../d6/d43/namespaceComparison__shopping__engine__backend.html">Comparison_shopping_engine_backend</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d77/DBItem_8cs_source.html#l00008">DBItem.cs:8</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1DateParser_html"><div class="ttname"><a href="../../df/de8/classComparison__shopping__engine__backend_1_1DateParser.html">Comparison_shopping_engine_backend.DateParser</a></div><div class="ttdoc">This class describes the behaviour of parsing a storeName from plain text. Intended for usage from Pa...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d5d/DateParser_8cs_source.html#l00015">DateParser.cs:15</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ParseableReceipt_html_aa5934966398da1e63540a70c6020ea69"><div class="ttname"><a href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html#aa5934966398da1e63540a70c6020ea69">Comparison_shopping_engine_backend.ParseableReceipt.DateParser</a></div><div class="ttdeci">static IParser&lt; DateTime &gt; DateParser</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/ParseableReceipt_8cs_source.html#l00021">ParseableReceipt.cs:21</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_a7d251c684fa022c937ea3b98d433c39e"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7d251c684fa022c937ea3b98d433c39e">Comparison_shopping_engine_backend.Program.server</a></div><div class="ttdeci">static IServer server</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00012">Program.cs:12</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ItemManager_html"><div class="ttname"><a href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html">Comparison_shopping_engine_backend.ItemManager</a></div><div class="ttdoc">Class responsible for managing an internal List&lt;Item&gt;, as well as writing/reading from file ItemManag...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/ItemManager_8cs_source.html#l00024">ItemManager.cs:24</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ItemListParser_html"><div class="ttname"><a href="../../d5/d89/classComparison__shopping__engine__backend_1_1ItemListParser.html">Comparison_shopping_engine_backend.ItemListParser</a></div><div class="ttdoc">This class describes the behaviour of parsing a storeName from plain text. Intended for usage from Pa...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d0b/ItemListParser_8cs_source.html#l00017">ItemListParser.cs:17</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Router_html"><div class="ttname"><a href="../../dd/de4/classComparison__shopping__engine__backend_1_1Router.html">Comparison_shopping_engine_backend.Router</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d08/Router_8cs_source.html#l00011">Router.cs:11</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ProcessReceiptBackendEndpoint_html"><div class="ttname"><a href="../../da/d65/classComparison__shopping__engine__backend_1_1ProcessReceiptBackendEndpoint.html">Comparison_shopping_engine_backend.ProcessReceiptBackendEndpoint</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d43/ProcessReceiptBackendEndpoint_8cs_source.html#l00015">ProcessReceiptBackendEndpoint.cs:15</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1NormalizationEngine_html_afc8c3335ef46a33a51ed7d74de760421"><div class="ttname"><a href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html#afc8c3335ef46a33a51ed7d74de760421">Comparison_shopping_engine_backend.NormalizationEngine.LoadAll</a></div><div class="ttdeci">void LoadAll()</div><div class="ttdoc">A method deserializing all of the names currently saved from a User configured location. Deletes all the old names before reading. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d93/NormalizationEngine_8cs_source.html#l00141">NormalizationEngine.cs:141</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ItemManager_html_af67cd4a65635a9347e520b6b69201978"><div class="ttname"><a href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html#af67cd4a65635a9347e520b6b69201978">Comparison_shopping_engine_backend.ItemManager.GetInstance</a></div><div class="ttdeci">static ItemManager GetInstance()</div><div class="ttdoc">Initializes ItemManager and return reference to ItemManager object </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/ItemManager_8cs_source.html#l00049">ItemManager.cs:49</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_ac6350cc0a27ebbe21403731706aa6cc1"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#ac6350cc0a27ebbe21403731706aa6cc1">Comparison_shopping_engine_backend.Program.CloseOnUserEntry</a></div><div class="ttdeci">static void CloseOnUserEntry(string addInfo=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00029">Program.cs:29</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1HttpServer_html"><div class="ttname"><a href="../../dc/d35/classComparison__shopping__engine__backend_1_1HttpServer.html">Comparison_shopping_engine_backend.HttpServer</a></div><div class="ttdoc">A barebones implementation of an HTTP server. Uses HttpListener and handles connections asynchronousl...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd8/HttpServer_8cs_source.html#l00017">HttpServer.cs:17</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ItemManager_html_afc8c3335ef46a33a51ed7d74de760421"><div class="ttname"><a href="../../d3/ded/classComparison__shopping__engine__backend_1_1ItemManager.html#afc8c3335ef46a33a51ed7d74de760421">Comparison_shopping_engine_backend.ItemManager.LoadAll</a></div><div class="ttdeci">void LoadAll()</div><div class="ttdoc">A method deserializing all of the Item objects currently saved from a User configured location...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7c/ItemManager_8cs_source.html#l00157">ItemManager.cs:157</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1SaveReceiptBackendEndpoint_html"><div class="ttname"><a href="../../d6/dd5/classComparison__shopping__engine__backend_1_1SaveReceiptBackendEndpoint.html">Comparison_shopping_engine_backend.SaveReceiptBackendEndpoint</a></div><div class="ttdoc">This class encapsulates the expected behaviour of the endpoint, the responsibility of which is to sav...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/de3/SaveReceiptBackendEndpoint_8cs_source.html#l00018">SaveReceiptBackendEndpoint.cs:18</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1NormalizationEngine_html_a2cf17ac219d860b4b4ba0b71828c6807"><div class="ttname"><a href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html#a2cf17ac219d860b4b4ba0b71828c6807">Comparison_shopping_engine_backend.NormalizationEngine.GetInstance</a></div><div class="ttdeci">static NormalizationEngine GetInstance()</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d93/NormalizationEngine_8cs_source.html#l00039">NormalizationEngine.cs:39</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ItemsContext_html"><div class="ttname"><a href="../../de/dd0/classComparison__shopping__engine__backend_1_1ItemsContext.html">Comparison_shopping_engine_backend.ItemsContext</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de0/ItemsContext_8cs_source.html#l00011">ItemsContext.cs:11</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_a7a01304694a6c748a7958a713e33853d"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a7a01304694a6c748a7958a713e33853d">Comparison_shopping_engine_backend.Program.InitEntities</a></div><div class="ttdeci">static bool InitEntities()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00042">Program.cs:42</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html_a2e67222db1dca5be5f3731ada487dd0f"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html#a2e67222db1dca5be5f3731ada487dd0f">Comparison_shopping_engine_backend.Program.Main</a></div><div class="ttdeci">static void Main()</div><div class="ttdoc">The main entry point for the application. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00016">Program.cs:16</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ParseableReceipt_html"><div class="ttname"><a href="../../de/d88/classComparison__shopping__engine__backend_1_1ParseableReceipt.html">Comparison_shopping_engine_backend.ParseableReceipt</a></div><div class="ttdoc">A class representing the ParseableReceipt entity. Adds the parsing functionality needed in the backen...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d96/ParseableReceipt_8cs_source.html#l00014">ParseableReceipt.cs:14</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1DBItem_html"><div class="ttname"><a href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html">Comparison_shopping_engine_backend.DBItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d77/DBItem_8cs_source.html#l00010">DBItem.cs:10</a></div></div>
<div class="ttc" id="namespaceSystem_html"><div class="ttname"><a href="../../d6/d27/namespaceSystem.html">System</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1Program_html"><div class="ttname"><a href="../../d8/d56/classComparison__shopping__engine__backend_1_1Program.html">Comparison_shopping_engine_backend.Program</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dac/Backend_2src_2Program_8cs_source.html#l00010">Program.cs:10</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1DBItem_html_a9f6dd5f0a254ed27ca791fe4aa2c35cf"><div class="ttname"><a href="../../dc/dd2/classComparison__shopping__engine__backend_1_1DBItem.html#a9f6dd5f0a254ed27ca791fe4aa2c35cf">Comparison_shopping_engine_backend.DBItem.Date</a></div><div class="ttdeci">DateTime Date</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d77/DBItem_8cs_source.html#l00016">DBItem.cs:16</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1GetSuggestionsBackendEndpoint_html"><div class="ttname"><a href="../../d9/dde/classComparison__shopping__engine__backend_1_1GetSuggestionsBackendEndpoint.html">Comparison_shopping_engine_backend.GetSuggestionsBackendEndpoint</a></div><div class="ttdoc">This class encapsulates the expected behaviour of the endpoint, the responsibility of which is to ret...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dce/GetSuggestionsBackendEndpoint_8cs_source.html#l00018">GetSuggestionsBackendEndpoint.cs:18</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1StoreParser_html"><div class="ttname"><a href="../../db/db1/classComparison__shopping__engine__backend_1_1StoreParser.html">Comparison_shopping_engine_backend.StoreParser</a></div><div class="ttdoc">This class describes the behaviour of parsing a storeName from plain text. Intended for usage from Pa...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d7e/StoreParser_8cs_source.html#l00016">StoreParser.cs:16</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1NormalizationEngine_html"><div class="ttname"><a href="../../dc/d2b/classComparison__shopping__engine__backend_1_1NormalizationEngine.html">Comparison_shopping_engine_backend.NormalizationEngine</a></div><div class="ttdoc">This class is used for normalisation of string names and storing the fixed names. Intended for OCR re...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d93/NormalizationEngine_8cs_source.html#l00018">NormalizationEngine.cs:18</a></div></div>
<div class="ttc" id="classComparison__shopping__engine__backend_1_1ProcessImageBackendEndpoint_html"><div class="ttname"><a href="../../d6/df8/classComparison__shopping__engine__backend_1_1ProcessImageBackendEndpoint.html">Comparison_shopping_engine_backend.ProcessImageBackendEndpoint</a></div><div class="ttdoc">This class encapsulates the expected behaviour of the endpoint, the responsibility of which is to par...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2e/ProcessImageBackendEndpoint_8cs_source.html#l00018">ProcessImageBackendEndpoint.cs:18</a></div></div>
<div class="ttc" id="interfaceComparison__shopping__engine__backend_1_1IServer_html_a07aaf1227e4d645f15e0a964f54ef291"><div class="ttname"><a href="../../dd/d96/interfaceComparison__shopping__engine__backend_1_1IServer.html#a07aaf1227e4d645f15e0a964f54ef291">Comparison_shopping_engine_backend.IServer.Start</a></div><div class="ttdeci">void Start()</div><div class="ttdoc">Start the server </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
